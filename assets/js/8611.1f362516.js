"use strict";(self.webpackChunklearn_data=self.webpackChunklearn_data||[]).push([[8611],{8611:(l,t,s)=>{s.r(t),s.d(t,{default:()=>c});var e=s(9636),a=s(3238),i=s(7190),o=s(6685),h=s(7829),r=s(1630),p=s(8430),d=s(2549);const y=["/blog.html","/github.html","/","/posts/PH-daily-2024-09-05.html","/posts/PH-daily-2024-09-06.html","/posts/PH-daily-2024-09-07.html","/posts/PH-daily-2024-09-08.html","/posts/PH-daily-2024-09-09.html","/posts/PH-daily-2024-09-10.html","/posts/PH-daily-2024-09-11.html","/posts/PH-daily-2024-09-12.html","/posts/PH-daily-2024-09-13.html","/posts/PH-daily-2024-09-14.html","/posts/PH-daily-2024-09-15.html","/posts/PH-daily-2024-09-16.html","/posts/PH-daily-2024-09-17.html","/posts/PH-daily-2024-09-18.html","/posts/PH-daily-2024-09-19.html","/posts/PH-daily-2024-09-20.html","/posts/PH-daily-2024-09-21.html","/posts/PH-daily-2024-09-22.html","/posts/PH-daily-2024-09-23.html","/posts/PH-daily-2024-09-24.html","/posts/PH-daily-2024-09-25.html","/posts/PH-daily-2024-09-26.html","/posts/PH-daily-2024-09-27.html","/posts/PH-daily-2024-09-28.html","/posts/PH-daily-2024-09-29.html","/posts/PH-daily-2024-09-30.html","/posts/PH-daily-2024-10-01.html","/posts/PH-daily-2024-10-02.html","/posts/PH-daily-2024-10-03.html","/posts/PH-daily-2024-10-04.html","/posts/PH-daily-2024-10-05.html","/posts/PH-daily-2024-10-06.html","/posts/PH-daily-2024-10-07.html","/posts/PH-daily-2024-10-08.html","/posts/PH-daily-2024-10-09.html","/posts/PH-daily-2024-10-10.html","/posts/PH-daily-2024-10-11.html","/posts/PH-daily-2024-10-12.html","/posts/PH-daily-2024-10-13.html","/posts/PH-daily-2024-10-14.html","/posts/PH-daily-2024-10-15.html","/posts/PH-daily-2024-10-16.html","/posts/PH-daily-2024-10-17.html","/posts/PH-daily-2024-10-18.html","/posts/PH-daily-2024-10-19.html","/posts/PH-daily-2024-10-20.html","/posts/PH-daily-2024-10-21.html","/posts/PH-daily-2024-10-22.html","/posts/PH-daily-2024-10-23.html","/posts/PH-daily-2024-10-24.html","/posts/PH-daily-2024-10-25.html","/posts/PH-daily-2024-10-26.html","/posts/PH-daily-2024-10-27.html","/posts/PH-daily-2024-10-28.html","/posts/PH-daily-2024-10-29.html","/posts/PH-daily-2024-10-30.html","/posts/PH-daily-2024-10-31.html","/posts/PH-daily-2024-11-01.html","/posts/PH-daily-2024-11-02.html","/posts/PH-daily-2024-11-03.html","/posts/PH-daily-2024-11-04.html","/posts/PH-daily-2024-11-05.html","/posts/PH-daily-2024-11-06.html","/posts/PH-daily-2024-11-07.html","/posts/PH-daily-2024-11-08.html","/posts/PH-daily-2024-11-09.html","/posts/PH-daily-2024-11-10.html","/posts/PH-daily-2024-11-11.html","/posts/PH-daily-2024-11-12.html","/posts/PH-daily-2024-11-13.html","/posts/PH-daily-2024-11-14.html","/posts/PH-daily-2024-11-15.html","/posts/PH-daily-2024-11-16.html","/posts/PH-daily-2024-11-17.html","/posts/PH-daily-2024-11-18.html","/posts/PH-daily-2024-11-19.html","/posts/PH-daily-2024-11-20.html","/posts/PH-daily-2024-11-21.html","/posts/PH-daily-2024-11-22.html","/posts/PH-daily-2024-11-23.html","/posts/PH-daily-2024-11-24.html","/posts/PH-daily-2024-11-25.html","/posts/PH-daily-2024-11-26.html","/posts/PH-daily-2024-11-27.html","/posts/PH-daily-2024-11-28.html","/posts/PH-daily-2024-11-29.html","/posts/PH-daily-2024-11-30.html","/posts/PH-daily-2024-12-01.html","/posts/PH-daily-2024-12-02.html","/posts/PH-daily-2024-12-03.html","/posts/PH-daily-2024-12-04.html","/posts/PH-daily-2024-12-05.html","/posts/PH-daily-2024-12-06.html","/posts/PH-daily-2024-12-07.html","/posts/PH-daily-2024-12-08.html","/posts/PH-daily-2024-12-09.html","/posts/PH-daily-2024-12-10.html","/posts/PH-daily-2024-12-11.html","/posts/PH-daily-2024-12-12.html","/posts/PH-daily-2024-12-13.html","/posts/PH-daily-2024-12-14.html","/posts/PH-daily-2024-12-15.html","/posts/PH-daily-2024-12-16.html","/posts/PH-daily-2024-12-17.html","/posts/PH-daily-2024-12-18.html","/posts/PH-daily-2024-12-19.html","/posts/PH-daily-2024-12-20.html","/posts/PH-daily-2024-12-21.html","/posts/PH-daily-2024-12-22.html","/posts/PH-daily-2024-12-23.html","/posts/PH-daily-2024-12-24.html","/posts/PH-daily-2024-12-25.html","/posts/PH-daily-2024-12-26.html","/posts/PH-daily-2024-12-27.html","/posts/PH-daily-2024-12-28.html","/posts/PH-daily-2024-12-29.html","/404.html","/posts/","/category/","/category/ph/","/tag/","/article/","/star/","/timeline/"];s(5034);const u=(0,a.Mjh)("SEARCH_PRO_QUERY_HISTORY",[]),m=l=>y[l.id]+("anchor"in l?`#${l.anchor}`:""),{resultHistoryCount:n}=d.s,H=(0,a.Mjh)("SEARCH_PRO_RESULT_HISTORY",[]);var c=(0,h.pM)({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(l,{emit:t}){const s=(0,r.rd)(),y=(0,r.Zv)(),c=(0,e.s5)(d.a),{enabled:P,addQueryHistory:v,queryHistory:g,removeQueryHistory:f}=(()=>{const{queryHistoryCount:l}=d.s,t=l>0;return{enabled:t,queryHistory:u,addQueryHistory:s=>{t&&(u.value=Array.from(new Set([s,...u.value.slice(0,l-1)])))},removeQueryHistory:l=>{u.value=[...u.value.slice(0,l),...u.value.slice(l+1)]}}})(),{enabled:k,resultHistory:Q,addResultHistory:R,removeResultHistory:w}=(()=>{const l=n>0;return{enabled:l,resultHistory:H,addResultHistory:t=>{if(l){const l={link:m(t),display:t.display};"header"in t&&(l.header=t.header),H.value=[l,...H.value.slice(0,n-1)]}},removeResultHistory:l=>{H.value=[...H.value.slice(0,l),...H.value.slice(l+1)]}}})(),b=P||k,x=(0,o.lW)(l,"queries"),{results:C,isSearching:q}=(l=>{const t=(0,d.u)(),s=(0,r.Zv)(),e=(0,r.BV)(),a=(0,o.KR)(0),p=(0,h.EW)((()=>a.value>0)),y=(0,o.IJ)([]);return(0,h.sV)((()=>{const{search:o,terminate:r}=(0,d.c)(),p=(0,i.Q0)((l=>{const i=l.join(" "),{searchFilter:h=l=>l,splitWord:r,suggestionsFilter:p,...d}=t.value;i?(a.value+=1,o(l.join(" "),s.value,d).then((l=>h(l,i,s.value,e.value))).then((l=>{a.value-=1,y.value=l})).catch((l=>{console.warn(l),a.value-=1,a.value||(y.value=[])}))):y.value=[]}),d.s.searchDelay-d.s.suggestDelay);(0,h.wB)([l,s],(([l])=>p(l)),{immediate:!0}),(0,h.hi)((()=>{r()}))})),{isSearching:p,results:y}})(x),S=(0,o.Kh)({isQuery:!0,index:0}),E=(0,o.KR)(0),A=(0,o.KR)(0),W=(0,h.EW)((()=>b&&(g.value.length>0||Q.value.length>0))),_=(0,h.EW)((()=>C.value.length>0)),D=(0,h.EW)((()=>C.value[E.value]||null)),T=l=>l.map((l=>(0,e.Kg)(l)?l:(0,h.h)(l[0],l[1]))),j=l=>{if("customField"===l.type){const t=d.b[l.index]||"$content",[s,a=""]=(0,e.Qd)(t)?t[y.value].split("$content"):t.split("$content");return l.display.map((l=>(0,h.h)("div",T([s,...l,a]))))}return l.display.map((l=>(0,h.h)("div",T(l))))},M=()=>{E.value=0,A.value=0,t("updateQuery",""),t("close")};return(0,a.MLh)("keydown",(e=>{if(l.isFocusing)if(_.value){if("ArrowUp"===e.key)A.value>0?A.value-=1:(E.value=E.value>0?E.value-1:C.value.length-1,A.value=D.value.contents.length-1);else if("ArrowDown"===e.key)A.value<D.value.contents.length-1?A.value+=1:(E.value=E.value<C.value.length-1?E.value+1:0,A.value=0);else if("Enter"===e.key){const t=D.value.contents[A.value];v(l.queries.join(" ")),R(t),s.push(m(t)),M()}}else if(k)if("ArrowUp"===e.key)(()=>{const{isQuery:l,index:t}=S;0===t?(S.isQuery=!l,S.index=l?Q.value.length-1:g.value.length-1):S.index=t-1})();else if("ArrowDown"===e.key)(()=>{const{isQuery:l,index:t}=S;t===(l?g.value.length-1:Q.value.length-1)?(S.isQuery=!l,S.index=0):S.index=t+1})();else if("Enter"===e.key){const{index:l}=S;S.isQuery?(t("updateQuery",g.value[l]),e.preventDefault()):(s.push(Q.value[l].link),M())}})),(0,h.wB)([E,A],(()=>{document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active")?.scrollIntoView(!1)}),{flush:"post"}),()=>(0,h.h)("div",{class:["search-pro-result-wrapper",{empty:l.queries.length?!_.value:!W.value}],id:"search-pro-results"},l.queries.length?q.value?(0,h.h)(p.S,{hint:c.value.searching}):_.value?(0,h.h)("ul",{class:"search-pro-result-list"},C.value.map((({title:t,contents:s},e)=>{const a=E.value===e;return(0,h.h)("li",{class:["search-pro-result-list-item",{active:a}]},[(0,h.h)("div",{class:"search-pro-result-title"},t||c.value.defaultTitle),s.map(((t,s)=>{const e=a&&A.value===s;return(0,h.h)(r.Wt,{to:m(t),class:["search-pro-result-item",{active:e,"aria-selected":e}],onClick:()=>{v(l.queries.join(" ")),R(t),M()}},(()=>["text"===t.type?null:(0,h.h)("title"===t.type?p.T:"heading"===t.type?p.H:p.a,{class:"search-pro-result-type"}),(0,h.h)("div",{class:"search-pro-result-content"},["text"===t.type&&t.header?(0,h.h)("div",{class:"content-header"},t.header):null,(0,h.h)("div",j(t))])]))}))])}))):c.value.emptyResult:b?W.value?[P?(0,h.h)("ul",{class:"search-pro-result-list"},(0,h.h)("li",{class:"search-pro-result-list-item"},[(0,h.h)("div",{class:"search-pro-result-title"},c.value.queryHistory),g.value.map(((l,s)=>(0,h.h)("div",{class:["search-pro-result-item",{active:S.isQuery&&S.index===s}],onClick:()=>{t("updateQuery",l)}},[(0,h.h)(p.b,{class:"search-pro-result-type"}),(0,h.h)("div",{class:"search-pro-result-content"},l),(0,h.h)("button",{class:"search-pro-remove-icon",innerHTML:p.C,onClick:l=>{l.preventDefault(),l.stopPropagation(),f(s)}})])))])):null,k?(0,h.h)("ul",{class:"search-pro-result-list"},(0,h.h)("li",{class:"search-pro-result-list-item"},[(0,h.h)("div",{class:"search-pro-result-title"},c.value.resultHistory),Q.value.map(((l,t)=>(0,h.h)(r.Wt,{to:l.link,class:["search-pro-result-item",{active:!S.isQuery&&S.index===t}],onClick:()=>{M()}},(()=>[(0,h.h)(p.b,{class:"search-pro-result-type"}),(0,h.h)("div",{class:"search-pro-result-content"},[l.header?(0,h.h)("div",{class:"content-header"},l.header):null,(0,h.h)("div",l.display.map((l=>T(l))).flat())]),(0,h.h)("button",{class:"search-pro-remove-icon",innerHTML:p.C,onClick:l=>{l.preventDefault(),l.stopPropagation(),w(t)}})]))))])):null]:c.value.emptyHistory:c.value.emptyResult)}})}}]);