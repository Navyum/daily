"use strict";(self.webpackChunklearn_data=self.webpackChunklearn_data||[]).push([[8611],{8611:(l,e,t)=>{t.r(e),t.d(e,{default:()=>v});var s=t(9636),a=t(3238),i=t(7190),r=t(6685),o=t(7829),u=t(1630),h=t(8430),p=t(2549);const d=["/blog.html","/github.html","/","/posts/PH-daily-2024-09-05.html","/posts/PH-daily-2024-09-06.html","/posts/PH-daily-2024-09-07.html","/posts/PH-daily-2024-09-08.html","/posts/PH-daily-2024-09-09.html","/posts/PH-daily-2024-09-10.html","/posts/PH-daily-2024-09-11.html","/posts/PH-daily-2024-09-12.html","/posts/PH-daily-2024-09-13.html","/posts/PH-daily-2024-09-14.html","/posts/PH-daily-2024-09-15.html","/posts/PH-daily-2024-09-16.html","/posts/PH-daily-2024-09-17.html","/posts/PH-daily-2024-09-18.html","/posts/PH-daily-2024-09-19.html","/posts/PH-daily-2024-09-20.html","/posts/PH-daily-2024-09-21.html","/posts/PH-daily-2024-09-22.html","/posts/PH-daily-2024-09-23.html","/posts/PH-daily-2024-09-24.html","/posts/PH-daily-2024-09-25.html","/posts/PH-daily-2024-09-26.html","/posts/PH-daily-2024-09-27.html","/posts/PH-daily-2024-09-28.html","/posts/PH-daily-2024-09-29.html","/posts/PH-daily-2024-09-30.html","/posts/PH-daily-2024-10-01.html","/posts/PH-daily-2024-10-02.html","/posts/PH-daily-2024-10-03.html","/posts/PH-daily-2024-10-04.html","/posts/PH-daily-2024-10-05.html","/posts/PH-daily-2024-10-06.html","/posts/PH-daily-2024-10-07.html","/posts/PH-daily-2024-10-08.html","/posts/PH-daily-2024-10-09.html","/posts/PH-daily-2024-10-10.html","/posts/PH-daily-2024-10-11.html","/posts/PH-daily-2024-10-12.html","/posts/PH-daily-2024-10-13.html","/posts/PH-daily-2024-10-14.html","/posts/PH-daily-2024-10-15.html","/posts/PH-daily-2024-10-16.html","/posts/PH-daily-2024-10-17.html","/posts/PH-daily-2024-10-18.html","/posts/PH-daily-2024-10-19.html","/posts/PH-daily-2024-10-20.html","/posts/PH-daily-2024-10-21.html","/posts/PH-daily-2024-10-22.html","/posts/PH-daily-2024-10-23.html","/posts/PH-daily-2024-10-24.html","/posts/PH-daily-2024-10-25.html","/posts/PH-daily-2024-10-26.html","/posts/PH-daily-2024-10-27.html","/posts/PH-daily-2024-10-28.html","/posts/PH-daily-2024-10-29.html","/posts/PH-daily-2024-10-30.html","/posts/PH-daily-2024-10-31.html","/posts/PH-daily-2024-11-01.html","/posts/PH-daily-2024-11-02.html","/posts/PH-daily-2024-11-03.html","/posts/PH-daily-2024-11-04.html","/posts/PH-daily-2024-11-05.html","/posts/PH-daily-2024-11-06.html","/posts/PH-daily-2024-11-07.html","/posts/PH-daily-2024-11-08.html","/posts/PH-daily-2024-11-09.html","/posts/PH-daily-2024-11-10.html","/posts/PH-daily-2024-11-11.html","/posts/PH-daily-2024-11-12.html","/posts/PH-daily-2024-11-13.html","/posts/PH-daily-2024-11-14.html","/404.html","/posts/","/category/","/category/ph/","/tag/","/article/","/star/","/timeline/"];t(5034);const n=(0,a.Mjh)("SEARCH_PRO_QUERY_HISTORY",[]),y=l=>d[l.id]+("anchor"in l?`#${l.anchor}`:""),{resultHistoryCount:c}=p.s,m=(0,a.Mjh)("SEARCH_PRO_RESULT_HISTORY",[]);var v=(0,o.pM)({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(l,{emit:e}){const t=(0,u.rd)(),d=(0,u.Zv)(),v=(0,s.s5)(p.a),{enabled:H,addQueryHistory:P,queryHistory:g,removeQueryHistory:f}=(()=>{const{queryHistoryCount:l}=p.s,e=l>0;return{enabled:e,queryHistory:n,addQueryHistory:t=>{e&&(n.value=Array.from(new Set([t,...n.value.slice(0,l-1)])))},removeQueryHistory:l=>{n.value=[...n.value.slice(0,l),...n.value.slice(l+1)]}}})(),{enabled:k,resultHistory:Q,addResultHistory:R,removeResultHistory:w}=(()=>{const l=c>0;return{enabled:l,resultHistory:m,addResultHistory:e=>{if(l){const l={link:y(e),display:e.display};"header"in e&&(l.header=e.header),m.value=[l,...m.value.slice(0,c-1)]}},removeResultHistory:l=>{m.value=[...m.value.slice(0,l),...m.value.slice(l+1)]}}})(),b=H||k,x=(0,r.lW)(l,"queries"),{results:C,isSearching:q}=(l=>{const e=(0,p.u)(),t=(0,u.Zv)(),s=(0,u.BV)(),a=(0,r.KR)(0),h=(0,o.EW)((()=>a.value>0)),d=(0,r.IJ)([]);return(0,o.sV)((()=>{const{search:r,terminate:u}=(0,p.c)(),h=(0,i.Q0)((l=>{const i=l.join(" "),{searchFilter:o=l=>l,splitWord:u,suggestionsFilter:h,...p}=e.value;i?(a.value+=1,r(l.join(" "),t.value,p).then((l=>o(l,i,t.value,s.value))).then((l=>{a.value-=1,d.value=l})).catch((l=>{console.warn(l),a.value-=1,a.value||(d.value=[])}))):d.value=[]}),p.s.searchDelay-p.s.suggestDelay);(0,o.wB)([l,t],(([l])=>h(l)),{immediate:!0}),(0,o.hi)((()=>{u()}))})),{isSearching:h,results:d}})(x),S=(0,r.Kh)({isQuery:!0,index:0}),E=(0,r.KR)(0),A=(0,r.KR)(0),W=(0,o.EW)((()=>b&&(g.value.length>0||Q.value.length>0))),_=(0,o.EW)((()=>C.value.length>0)),D=(0,o.EW)((()=>C.value[E.value]||null)),T=l=>l.map((l=>(0,s.Kg)(l)?l:(0,o.h)(l[0],l[1]))),j=l=>{if("customField"===l.type){const e=p.b[l.index]||"$content",[t,a=""]=(0,s.Qd)(e)?e[d.value].split("$content"):e.split("$content");return l.display.map((l=>(0,o.h)("div",T([t,...l,a]))))}return l.display.map((l=>(0,o.h)("div",T(l))))},M=()=>{E.value=0,A.value=0,e("updateQuery",""),e("close")};return(0,a.MLh)("keydown",(s=>{if(l.isFocusing)if(_.value){if("ArrowUp"===s.key)A.value>0?A.value-=1:(E.value=E.value>0?E.value-1:C.value.length-1,A.value=D.value.contents.length-1);else if("ArrowDown"===s.key)A.value<D.value.contents.length-1?A.value+=1:(E.value=E.value<C.value.length-1?E.value+1:0,A.value=0);else if("Enter"===s.key){const e=D.value.contents[A.value];P(l.queries.join(" ")),R(e),t.push(y(e)),M()}}else if(k)if("ArrowUp"===s.key)(()=>{const{isQuery:l,index:e}=S;0===e?(S.isQuery=!l,S.index=l?Q.value.length-1:g.value.length-1):S.index=e-1})();else if("ArrowDown"===s.key)(()=>{const{isQuery:l,index:e}=S;e===(l?g.value.length-1:Q.value.length-1)?(S.isQuery=!l,S.index=0):S.index=e+1})();else if("Enter"===s.key){const{index:l}=S;S.isQuery?(e("updateQuery",g.value[l]),s.preventDefault()):(t.push(Q.value[l].link),M())}})),(0,o.wB)([E,A],(()=>{document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active")?.scrollIntoView(!1)}),{flush:"post"}),()=>(0,o.h)("div",{class:["search-pro-result-wrapper",{empty:l.queries.length?!_.value:!W.value}],id:"search-pro-results"},l.queries.length?q.value?(0,o.h)(h.S,{hint:v.value.searching}):_.value?(0,o.h)("ul",{class:"search-pro-result-list"},C.value.map((({title:e,contents:t},s)=>{const a=E.value===s;return(0,o.h)("li",{class:["search-pro-result-list-item",{active:a}]},[(0,o.h)("div",{class:"search-pro-result-title"},e||v.value.defaultTitle),t.map(((e,t)=>{const s=a&&A.value===t;return(0,o.h)(u.Wt,{to:y(e),class:["search-pro-result-item",{active:s,"aria-selected":s}],onClick:()=>{P(l.queries.join(" ")),R(e),M()}},(()=>["text"===e.type?null:(0,o.h)("title"===e.type?h.T:"heading"===e.type?h.H:h.a,{class:"search-pro-result-type"}),(0,o.h)("div",{class:"search-pro-result-content"},["text"===e.type&&e.header?(0,o.h)("div",{class:"content-header"},e.header):null,(0,o.h)("div",j(e))])]))}))])}))):v.value.emptyResult:b?W.value?[H?(0,o.h)("ul",{class:"search-pro-result-list"},(0,o.h)("li",{class:"search-pro-result-list-item"},[(0,o.h)("div",{class:"search-pro-result-title"},v.value.queryHistory),g.value.map(((l,t)=>(0,o.h)("div",{class:["search-pro-result-item",{active:S.isQuery&&S.index===t}],onClick:()=>{e("updateQuery",l)}},[(0,o.h)(h.b,{class:"search-pro-result-type"}),(0,o.h)("div",{class:"search-pro-result-content"},l),(0,o.h)("button",{class:"search-pro-remove-icon",innerHTML:h.C,onClick:l=>{l.preventDefault(),l.stopPropagation(),f(t)}})])))])):null,k?(0,o.h)("ul",{class:"search-pro-result-list"},(0,o.h)("li",{class:"search-pro-result-list-item"},[(0,o.h)("div",{class:"search-pro-result-title"},v.value.resultHistory),Q.value.map(((l,e)=>(0,o.h)(u.Wt,{to:l.link,class:["search-pro-result-item",{active:!S.isQuery&&S.index===e}],onClick:()=>{M()}},(()=>[(0,o.h)(h.b,{class:"search-pro-result-type"}),(0,o.h)("div",{class:"search-pro-result-content"},[l.header?(0,o.h)("div",{class:"content-header"},l.header):null,(0,o.h)("div",l.display.map((l=>T(l))).flat())]),(0,o.h)("button",{class:"search-pro-remove-icon",innerHTML:h.C,onClick:l=>{l.preventDefault(),l.stopPropagation(),w(e)}})]))))])):null]:v.value.emptyHistory:v.value.emptyResult)}})}}]);